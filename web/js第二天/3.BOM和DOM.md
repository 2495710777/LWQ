## BOM和DOM简介

### 1.BOM

Browers Object Model 浏览器对象模型

BOM提供了访问或操作浏览器各组件的方法和途径

浏览器组件，一下对象都是浏览器对象，不是js的对象：

```js
window浏览器窗口
location地址栏对象
history 历史记录对象
screen屏幕对象
navigator浏览器软件对象
document文档对象 即是 DOM
```

> BOM只是一个标准，是一个模型，是一个概念，她并不是真正能操作的对象
>
> javaScript是Netscape（网景）公司的产品，，已被收购

> BOM是W3C制定的一种操作浏览器各组件的标准
>
> W3C是制定互联网标准的：如：XHTML,CSS,XML,JS,DOM,BOM,HTML5等

### 2.DOM

文档对象模型(document object model)

主要用来访问和操作网页中个元素对象的一种途径方法

DOM把网页中的各种标记，都看成一个一个的对象

```
<p>、<a>、<html>、<body>...对象
```

![](C:\Users\lwq\Desktop\web\img\images_3.png)

### for...in 循环

```js
var arr = [1,3,5,7,NaN,9,2];
var sum = 0;n=0
for(i in arr){
	if(!isNaN(arr[i])){
		sum += arr[i]
		n++
	}
}
document.write(sum,n)
```

### 遍历window对象属性

```js
var n = 1;
for(var name in window)
{
	document.write(n+" "+name+"<br>");
	n++;
}
```

### window对象--浏览器窗口对象

#### 1.window对象属性

name:代表窗口的名称，用于<a>标记的target属性

top:代表最顶层窗口  也是window对象，常用到框架中

parent：代表父窗口，也是window对象，常用在框架中

self:代表当前窗口，也是window对象，常用在框架中，如：self.alert()

innerWidth:窗口的内宽，不含菜单栏、工具栏、滚动条、地址栏等（Firefox支持）

`在IE浏览器中使用 document.documentElement.clientWidth  代替`

innerHeight:窗口的内高，不含菜单栏，工具栏，滚动条，地址栏（Firefox)

`在IE浏览器中使用 document.documentElement.clientWidth  代替`

`documentElement指<html>元素对象`

`document.body指<body>元素对象`

### 测试不同浏览器窗口的大小

```js
var _width = window.innerWidth ? window.innerWidth : 
document.documentElement.clientWidth;
var _height = window.innerHeight ? window.innerHeight :
document.documentElement.clientHeight;
document.write("width="+_width+",height="+_height);
```

**2.window对象方法**

**alert(msg)方法**

弹出一个警告对话框，只有一个确定按钮

**prompt(msg)方法**

弹出一个输入对话框，有确定和取消两个按钮，”确定“返回字符串数据。”取消“返回null,msg是提示输入信息

**confirm(msg)方法**

弹出一个确认对话框

window.confirm(msg)

msg是提示信息，”确定“返回true”取消“返回false

**close()**

关闭window窗口

window.close()

**Firfox要使用的话需要修改**

地址栏输入：about:config

dom.allow_script_to_close_windows--->true

### 删除实例

```js
<script type="text/javascript">
    function confirmDel()
{
    if(window.confirm("你确定要删除吗？"))
    {
        //JS没有删除数据的能力，也没有操作文件能力
        //window.location.href 跳转页面
        window.location.href = "http://www.baidu.com";
        // window带不带都行
    }
}
</script>
<html>
    <a href="javascript:void(0)" onClick="confirmDel()">删除</a>
</html>
```

### window.open()

打开一个新的浏览器窗口

var winObj = window.open(url,name,options)

url:在新窗口打开的文件的URL地址，可以为空

name:新窗口的名字，可以通过window.name属性来获取，用于<a>标记的target属性

options:新窗口的规格

menubar:菜单栏是否显示：取值yes,no 

toolbar:工具栏是否显示

status：状态栏

scroll bars：是否显示滚动条

location：地址栏

width：新窗口的宽度   height：高度   left:距离屏幕左边的距离  top:顶边的距离

三个参数都可以为空，打开一个空白窗口

返回一个window对象，通过winObj变量，跟踪新窗口

```js
var winObj = window.open("index.html3","newWin",
			"width=400,height=300,left=300,top=200")
```

### 弹出一个随机背景颜色的窗口

```js
window.onload = function()
{
    //变量初始化
    var url2 = "";
    var name2 = "win2";
    var winWidth = 400;
    var winHeight = 300;
    var screenWidth = screen.width;
    var screenHeight = screen.height;
    var x = (screenWidth-winWidth)/2;
    var y = (screenHeight-winHeight)/2-100;
    var options2 = "width="+winWidth+",height="+winHeight+",left="+x+",top="+y;
    //打开一个新窗口
    var winObj = window.open(url2,name2,options2);
    //给新窗口添加背景色
    winObj.document.write("<h2>新窗口的标题</h2>");
    winObj.document.body.bgColor = "#"+bgColor();
    function bgColor()
    {
        var min=100000;
        var max=999999;
        var random = Math.random()*(max-min)+min;			
        random = Math.floor(random);		
        return random
    }
    //新窗口在5秒钟后，自动关闭
    winObj.setTimeout("window.close()",5000);
```

### screen**屏幕**对象

Width:**屏幕**总宽度，包括任务栏

Height：屏幕总高度，包括任务栏

availWidth：屏幕有效宽度，不含任务栏

availHeight:屏幕有效高度，不含任务栏

**显示屏的分辨率**

```js
var str = "<h2>当前显示器屏幕分辨率</h2>";
str += "总宽度："+screen.width;
str += "<br>总高度："+screen.height;
str += "<br>有效宽度："+screen.availWidth;
str += "<br>有效高度："+screen.availHeight;
document.write(str);
```

### navigator对象

appname:浏览器软件的名称，Firefix显示”Netscape“。

IE：Microsoft Internet Explore

appVersion:浏览器版本号，核心版本号

systemLanguage：系统语言

userLanguage：用户语言

platform：平台

```js
var str = "<h2>当前浏览器的相关信息</h2>";
str += "浏览器软件名称："+navigator.appName;
str += "<br>浏览器版本号："+navigator.appVersion;
str += "<br>系统语言："+navigator.systemLanguage;
str += "<br>用户语言："+navigator.userLanguage;
str += "<br>平台："+navigator.platform;
document.write(str);
//*******************兼容性判断*******************
var width,height;
if(navigator.appName=="Netscape")
{
    width = window.innerWidth;
    height = window.innerHeight;
}else
{
    width = document.documentElement.clientWidth;
    height = document.documentElement.clientHeight;
}
document.write("<hr>窗口内宽："+width+", 窗口内高："+height);
```

### location地址栏对象

html的网页跳转：

`<meta http-equiv="refresh" content="2;url=http://www.baidu.com">`

js跳转：

location.href = "http://www.jd.com"

一下属性重新赋值后，将重新刷新网页

href：获取或设置地址栏中的地址

host:获取或设置主机名（用的多，灵活获取本台的地址）

hostname:主机名

pathname：文件及路径

search：查询字符串，指地址栏中“？”之后的字符。如：？ame=yao&password=1

protocol:协议。如：http://、https://、file://

hash:锚点名称，如#top

reload():刷新网页，相当于工具栏中刷新按钮

```js
var str = "<h2 style='color:red;background-color:black'>获取当前地址栏中的相关信息</h2>";
str += "完整的地址信息："+location.href;
str += "<br>主机名："+location.host;
str += "<br>主机名："+location.hostname;
str += "<br>文件及路径："+location.pathname;
str += "<br>查询字符串："+location.search;
str += "<br>协议："+location.protocol;
str += "<br>锚点名称："+location.hash;
document.write(str);
```

### history 对象

go(n):既可以前进，也可以后退

```js
history.go(0) //刷新当前网页
history.go(1) //前进一步
history.go(2) //前进二步
history.go(-1) //后退一步
history.go(-2) //后退两步
```

forward():相当于前进按钮

back():相当于后退按钮

```js
<a href="test.html">新闻内容</a><br>
<input type="button" value="前进" onClick="history.go(1)">

<a href="test.html">新闻内容</a><br>
<input type="button" value="后退" onClick="history.go(-1)">
```

