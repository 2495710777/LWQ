# 单例设计模式

## 1. 单例是什么

举个常见的单例模式例子，我们日常使用的电脑上都有一个回收站，在整个操作系统中，回收站只能有一个实例，整个系统都使用这个唯一的实例，而且回收站自行提供自己的实例。因此回收站是单例模式的应用。

确保某一个类只有一个实例，而且自行实例化并向整个系统提供这个实例，这个类称为单例类，单例模式是一种对象创建型模式。



```python
class Singleton(object):
    # 私有类属性
    __instance = None
    __is_first = True
# 只调用一次new方法，创建的对象会覆盖，因为内存地址相同
    def __new__(cls, *args, **kwargs):
        # if Singleton.__instance == None:
        if not cls.__instance:
            cls.__instance = object.__new__(cls)
        return cls.__instance

# 只保留创建的第一个对象，不会被覆盖，没有这个方法，后创建的对象会把前面的覆盖
    def __init__(self, name):
        if Singleton.__is_first:
            self.name = name
            Singleton.__is_first = False

    # def dog(self):
    #     print('{}叫'.format(self.name))


# print('0x%x' % id(Singleton))
s1 = Singleton('狗')

s2 = Singleton('猫')
print(s1.name)
print(s2.name)

print(s1 is s2)  # True
```

